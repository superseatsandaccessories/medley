<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retro Medley Player</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&family=Space+Mono:wght@400;700&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #0f172a;
            color: white;
            overflow: hidden;
        }
        
        .chord-badge {
            font-family: 'Space Mono', monospace;
        }
        
        /* Custom Scrollbar for cleaner look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0f172a; 
        }
        ::-webkit-scrollbar-thumb {
            background: #334155; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #475569; 
        }

        .pulse-slow { animation: pulse 2s infinite; }
        .pulse-med { animation: pulse 1.5s infinite; }
        .pulse-fast { animation: pulse 0.8s infinite; }

        @keyframes pulse {
            0% { opacity: 0.7; transform: scale(0.98); }
            50% { opacity: 1; transform: scale(1.02); }
            100% { opacity: 0.7; transform: scale(0.98); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const songs = [
            {
                id: 1,
                title: "Main Koi Aisa Geet Gaoon",
                movie: "Yes Boss",
                tempo: "Slow / Romantic",
                bpmClass: "pulse-slow",
                strum: "D... D... (Let it ring)",
                lyrics: [
                    "[C] Tumko bulaoon, [Am] yeh palkein bichhaoon",
                    "[F] Kadam tum jahan jahan [G] rakho",
                    "[C] Zameen ko aasmaan [Am] banaoon",
                    "[F] Sitaron se [G] sajaoon",
                    "[C] Agar tum kaho..."
                ]
            },
            {
                id: 2,
                title: "Dil Kya Kare",
                movie: "Julie",
                tempo: "Slow / Romantic",
                bpmClass: "pulse-slow",
                strum: "D... DU... (Soft)",
                lyrics: [
                    "[C] Dil kya kare jab kisi se",
                    "[Am] Kisi ko pyaar ho jaaye",
                    "[F] Jaane kahan kab kisi ko",
                    "[G] Kisi se pyaar ho jaaye",
                    "[C] Unchi unchi deewaron si",
                    "[Am] Is duniya ki rasmein",
                    "[F] Na kuch tere bas mein julie",
                    "[G] Na kuch mere bas mein"
                ]
            },
            {
                id: 3,
                title: "Ek Ajnabee Haseena Se",
                movie: "Ajnabee",
                tempo: "Medium / Groovy",
                bpmClass: "pulse-med",
                strum: "D D U U D U (Island Strum)",
                lyrics: [
                    "[C] Ek ajnabee haseena se",
                    "[Am] Yun mulaqat ho gayi",
                    "[F] Phir kya hua yeh na poochho",
                    "[G] Kuch aisi baat ho gayi",
                    "[C] Wo achanak aa gayi",
                    "[Am] Yun nazar ke saamne",
                    "[F] Jaise nikal aaya [G] ghata se chand"
                ]
            },
            {
                id: 4,
                title: "Mere Samne Wali Khidki Mein",
                movie: "Padosan",
                tempo: "Medium / Playful",
                bpmClass: "pulse-med",
                strum: "D D U U D U",
                lyrics: [
                    "[C] Mere samne wali khidki mein",
                    "[Am] Ek chand ka tukda rehta hai",
                    "[F] Afsos ye hai ke wo humse",
                    "[G] Kuch ukhda ukhda rehta hai",
                    "[C] Jis roz se dekha hai tumko",
                    "[Am] Hum shama jalana bhool gaye",
                    "[F] Dil thaam ke aise baithe hain",
                    "[G] Kahin aana jaana bhool gaye"
                ]
            },
            {
                id: 5,
                title: "Wada Karo",
                movie: "Aa Gale Lag Jaa",
                tempo: "Medium / Gallop",
                bpmClass: "pulse-med",
                strum: "D U D U D U D U (Fast)",
                lyrics: [
                    "[C] Wada karo nahin chhodoge",
                    "[Am] Tum mera saath",
                    "[F] Jahan tum ho, wahan main hoon",
                    "[G] Chuu lo mera haath",
                    "[C] Wada karo..."
                ]
            },
            {
                id: 6,
                title: "Tareef Karoon Kya Uski",
                movie: "Kashmir Ki Kali",
                tempo: "Medium / Swing",
                bpmClass: "pulse-med",
                strum: "D D U U D U",
                lyrics: [
                    "[C] Tareef karoon kya uski",
                    "[Am] Jisne tumhein banaya",
                    "[F] Yeh chand sa roshan chehra",
                    "[G] Zulfon ka rang sunhera",
                    "[C] Yeh jheel si neeli aankhen",
                    "[Am] Koi raaz hai inmein gehra",
                    "[F] Tareef karoon kya uski... [G]"
                ]
            },
            {
                id: 7,
                title: "Saamne Ye Kaun Aaya",
                movie: "Jawani Diwani",
                tempo: "Fast / High Energy",
                bpmClass: "pulse-fast",
                strum: "D U D U D U (Rock)",
                lyrics: [
                    "[C] Saamne yeh kaun aaya",
                    "[Am] Dil mein hui halchal",
                    "[F] Dekh ke bas ek hi jhalak",
                    "[G] Ho gaye hum paagal",
                    "[C] Aare baatein, mulaqatein",
                    "[Am] Humse bhi to hongi",
                    "[F] Aare humse, khulengi",
                    "[G] Wo aaj nahi to kal"
                ]
            },
            {
                id: 8,
                title: "Chala Jata Hoon",
                movie: "Mere Jeevan Saathi",
                tempo: "Fast / Fun",
                bpmClass: "pulse-fast",
                strum: "D D U U D U (Fast)",
                lyrics: [
                    "[C] Chala jaata hoon",
                    "[Am] Kisi ki dhun mein",
                    "[F] Dhadakte dil ke",
                    "[G] Taraane liye",
                    "[C] Milan ki masti",
                    "[Am] Bhari aankhon mein",
                    "[F] Hazaron sapne",
                    "[G] Suhane liye",
                    "[C] (YA-HOOOOO!)"
                ]
            },
            {
                id: 9,
                title: "Jane Kahan Mera Jigar Gaya Ji",
                movie: "Mr. & Mrs. 55",
                tempo: "Fast / Retro",
                bpmClass: "pulse-fast",
                strum: "Down Strokes Only (Accent on 2 & 4)",
                lyrics: [
                    "[C] Jane kahan mera jigar gaya ji",
                    "[Am] Abhi abhi yahin tha kidhar gaya ji",
                    "[F] Kisi ki adaon pe mar gaya ji",
                    "[G] Badi badi akhiyon se darr gaya ji",
                    "[C] Aare, Jane kahan mera jigar gaya ji"
                ]
            },
            {
                id: 10,
                title: "Aaj Kal Tere Mere Pyar Ke Charche",
                movie: "Brahmachari",
                tempo: "Fast / Finale",
                bpmClass: "pulse-fast",
                strum: "Full Power Strumming",
                lyrics: [
                    "[C] Aaj kal tere mere pyar ke charche",
                    "[Am] Har zabaan par",
                    "[F] Sab ko maloom hai aur sabko [G] khabar ho gayi",
                    "[C] Aaj kal tere mere pyar ke charche",
                    "[Am] Har zabaan par",
                    "[C] (Hold C Major Chord to End)"
                ]
            }
        ];

        // Component to parse and render a line with chords
        const LyricLine = ({ line, isCurrent }) => {
            const parts = line.split(/(\[[^\]]+\])/g).filter(Boolean);

            return (
                <div className={`flex flex-wrap justify-center items-end gap-1 my-4 transition-all duration-500 ${isCurrent ? 'opacity-100' : 'opacity-40'}`}>
                    {parts.map((part, index) => {
                        if (part.startsWith('[') && part.endsWith(']')) {
                            const chord = part.replace(/[\[\]]/g, '');
                            return null;
                        } else {
                            const prevPart = index > 0 ? parts[index-1] : null;
                            const chord = (prevPart && prevPart.startsWith('[')) ? prevPart.replace(/[\[\]]/g, '') : null;
                            
                            return (
                                <div key={index} className="flex flex-col items-start inline-flex mx-1 relative top-2">
                                    {chord && (
                                        <span className="text-yellow-400 font-bold text-xl md:text-2xl mb-1 font-mono tracking-wider">
                                            {chord}
                                        </span>
                                    )}
                                    <span className={`text-2xl md:text-4xl font-semibold whitespace-nowrap ${isCurrent ? 'text-white' : 'text-slate-400'}`}>
                                        {part}
                                    </span>
                                </div>
                            );
                        }
                    })}
                </div>
            );
        };

        function App() {
            const [currentSongIndex, setCurrentSongIndex] = React.useState(0);
            const [isStarted, setIsStarted] = React.useState(false);

            const currentSong = songs[currentSongIndex];
            const progress = ((currentSongIndex + 1) / songs.length) * 100;

            const nextSong = () => {
                if (currentSongIndex < songs.length - 1) {
                    setCurrentSongIndex(prev => prev + 1);
                }
            };

            const prevSong = () => {
                if (currentSongIndex > 0) {
                    setCurrentSongIndex(prev => prev - 1);
                }
            };

            React.useEffect(() => {
                const handleKeyDown = (e) => {
                    if (e.code === 'Space' || e.code === 'ArrowRight') {
                        nextSong();
                    }
                    if (e.code === 'ArrowLeft') {
                        prevSong();
                    }
                };
                window.addEventListener('keydown', handleKeyDown);
                return () => window.removeEventListener('keydown', handleKeyDown);
            }, [currentSongIndex]);

            // Scroll to top when song changes
            React.useEffect(() => {
                const mainContainer = document.getElementById('main-content-area');
                if (mainContainer) {
                    mainContainer.scrollTop = 0;
                }
            }, [currentSongIndex]);

            if (!isStarted) {
                return (
                    <div className="flex flex-col items-center justify-center h-screen bg-slate-900 text-center p-8">
                        <h1 className="text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-pink-500 mb-6">
                            The 4-Chord Medley
                        </h1>
                        <p className="text-slate-400 mb-8 text-xl">
                            All songs use: <span className="text-yellow-400 font-mono font-bold mx-2">C - Am - F - G</span>
                        </p>
                        <button 
                            onClick={() => setIsStarted(true)}
                            className="px-8 py-4 bg-cyan-500 hover:bg-cyan-600 text-slate-900 font-bold text-2xl rounded-full shadow-lg transition-transform hover:scale-105"
                        >
                            Start Performance üé∏
                        </button>
                    </div>
                );
            }

            return (
                <div className="flex flex-col h-screen bg-slate-900 text-white relative">
                    {/* Fixed Header */}
                    <div className="bg-slate-800 p-4 shadow-xl z-20 flex justify-between items-center border-b border-slate-700">
                        <div className="flex flex-col">
                            <span className="text-xs text-slate-400 uppercase tracking-widest">Master Loop</span>
                            <div className="flex gap-2 text-2xl font-bold font-mono text-yellow-400 mt-1">
                                <span className="bg-slate-700 px-2 rounded">C</span>
                                <span className="text-slate-500">‚Üí</span>
                                <span className="bg-slate-700 px-2 rounded">Am</span>
                                <span className="text-slate-500">‚Üí</span>
                                <span className="bg-slate-700 px-2 rounded">F</span>
                                <span className="text-slate-500">‚Üí</span>
                                <span className="bg-slate-700 px-2 rounded">G</span>
                            </div>
                        </div>
                        <div className="text-right">
                             <div className="text-xs text-slate-400 uppercase tracking-widest">Progress</div>
                             <div className="text-xl font-bold text-cyan-400">{currentSongIndex + 1} / {songs.length}</div>
                        </div>
                    </div>

                    {/* Progress Bar */}
                    <div className="w-full bg-slate-800 h-1 z-20">
                        <div 
                            className="bg-gradient-to-r from-cyan-500 to-pink-500 h-1 transition-all duration-500" 
                            style={{ width: `${progress}%` }}
                        ></div>
                    </div>

                    {/* Main Content Area - Scrollable */}
                    <div id="main-content-area" className="flex-1 flex flex-col items-center justify-start p-4 md:p-6 relative overflow-y-auto">
                        
                        {/* Background Pulse Effect */}
                        <div className={`fixed inset-0 top-32 bottom-20 bg-gradient-to-b from-slate-800/20 to-transparent pointer-events-none ${currentSong.bpmClass}`}></div>

                        {/* Song Info Card */}
                        <div className="z-10 w-full max-w-5xl pb-10">
                            
                            {/* Sticky Title Section */}
                            <div className="sticky top-0 z-30 bg-slate-900/95 backdrop-blur shadow-lg border-b border-slate-700/50 pb-4 pt-2 px-4 rounded-xl mb-8 transition-all">
                                <div className="flex justify-between items-end">
                                    <div>
                                        <h2 className="text-3xl md:text-5xl font-bold text-white mb-1 leading-tight">
                                            {currentSong.title}
                                        </h2>
                                        <div className="text-slate-400 text-lg italic">Movie: {currentSong.movie}</div>
                                    </div>
                                    <div className="flex flex-col items-end gap-2">
                                         <span className="px-3 py-1 bg-cyan-500/20 text-cyan-300 rounded-full text-sm font-bold border border-cyan-500/30 font-mono text-right whitespace-nowrap">
                                            üé∏ {currentSong.strum}
                                        </span>
                                        <span className="px-3 py-1 bg-pink-500/20 text-pink-300 rounded-full text-sm font-bold border border-pink-500/30 whitespace-nowrap">
                                            {currentSong.tempo}
                                        </span>
                                    </div>
                                </div>
                            </div>

                            {/* Lyrics Display */}
                            <div className="space-y-4 text-center px-2">
                                {currentSong.lyrics.map((line, idx) => (
                                    <LyricLine 
                                        key={idx} 
                                        line={line} 
                                        isCurrent={true} 
                                    />
                                ))}
                            </div>
                        </div>
                    </div>

                    {/* Footer Controls */}
                    <div className="bg-slate-800 p-4 border-t border-slate-700 flex justify-between items-center z-20 shadow-[0_-5px_15px_rgba(0,0,0,0.3)]">
                        <button 
                            onClick={prevSong}
                            disabled={currentSongIndex === 0}
                            className={`px-6 py-3 rounded-lg font-bold text-lg flex items-center gap-2 ${currentSongIndex === 0 ? 'bg-slate-700 text-slate-500 cursor-not-allowed' : 'bg-slate-600 hover:bg-slate-500 text-white'}`}
                        >
                            ‚Üê Prev
                        </button>
                        
                        <div className="text-slate-400 text-sm hidden md:block">
                            Tip: Press <span className="border border-slate-500 px-1 rounded mx-1">Spacebar</span> or <span className="border border-slate-500 px-1 rounded mx-1">‚Üí</span> to Next
                        </div>

                        <button 
                            onClick={nextSong}
                            disabled={currentSongIndex === songs.length - 1}
                            className={`px-8 py-3 rounded-lg font-bold text-lg flex items-center gap-2 transition-all ${currentSongIndex === songs.length - 1 ? 'bg-slate-700 text-slate-500' : 'bg-cyan-500 hover:bg-cyan-400 text-slate-900 shadow-lg shadow-cyan-500/20'}`}
                        >
                            {currentSongIndex === songs.length - 1 ? 'Finish' : 'Next Song ‚Üí'}
                        </button>
                    </div>
                </div>
            );
        }

        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
